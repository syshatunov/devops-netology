# Домашнее задание 06-db-01-basics

<br>

## Задание 1
#### Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных. Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

- **Электронные чеки в json-виде** – эти данные можно хранить в нереляционной СУБД (NoSQL), например MongoDB. Это решение подходит т.к. в нём данные представляются в Json подобном формате. Кроме того MongoDB обеспечивает строгую консистентность данных. Альтернативное решение, это использовать реляционную СУБД с поддержкой хранения записей в Json формате (например PostgreSQL c Jsonb).
- **Склады и автомобильные дороги для логистической компании** – эти данные можно хранить в графовой нереляционной СУБД, т.к. при использовании этого типа СУБД получаем преимущество в хранении связей между складами и их описанием. Пример графовой СУБД - Neo4j. Кроме этого можно использовать реляционные СУБД, т.к. данные поддаются нормализации.
- **Генеалогические деревья** – эти данные лучше хранить в сетевых нереляционных СУБД, данные в которых организованы в виде связных между собой вершин. За счёт этого можно получить преимущество в хранении записей в БД. Также можно использовать графовую СУБД, в вершинах графа будет храниться информация о родителях и потомках, а в рёбрах графа информация о родственных связях. Такой способ позволяет эффективно хранить информации в БД и выполнять простые запросы при работе с ней. Также можно использовать реляционные СУБД, т.к. данные поддаются нормализации. 
- **Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации** – эти данные лучше сохранить в СУБД типа «ключ-значение». Подходящим примером являются Redis и Memcached. Данные СУБД подходят для задач кеширования. Также они поддерживают TTL (Time to live) для записей.
- **Отношения клиент-покупка для интернет-магазина** – эти данные можно хранить в реляционной СУБД. Отношение клиент-покупка хорошо нормализуются. Поэтому можно организовать эффективное представление этих данных в СУБД. Из NoSQL решений можно использовать графовую СУБД.
<br>

## Задание 2
#### Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию)? Согласно PACELC-теореме как бы вы классифицировали эти реализации?
- **Данные записываются на все узлы с задержкой до часа (асинхронная запись)** – По CAP это AP система. По PACELC это PA/EL система.
- **При сетевых сбоях система может разделиться на 2 раздельных кластера** – По CAP это AP система. По PACELC это PA/EL система.
- **Система может не прислать корректный ответ или сбросить соединение** – По CAP это CP система. По PACELC это PC/EC система.
<br>

## Задание 3
#### Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Не могут, т.к. эти принципы противоречат друг другу.<br><br>
**BASE** – для данного принципа характерна высокая производительность системы, он гарантирует, что система ответит на запрос, но данные могут быть неактуальными.<br><br>
**ACID** – для данного принципа характерна высокая надёжность системы, он гарантирует, что транзакции буду успешно завершены.

## Задание 4
#### Вам дали задачу написать системное решение, основой которого бы послужили: фиксация некоторых значений с временем жизни, реакция на истечение таймаута. Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

Примером **Key-Value** системы с поддержкой **Pub/Sub** является **Redis**.<br><br>
**Минусы**: Данные хранятся в оперативной памяти (по умолчанию), в случае аварии есть вероятность потери данных. Нет встроенного кластерного решения, необходимо дополнительно настраивать Redis Sentinel. Нет поддержки языка SQL.
<br>